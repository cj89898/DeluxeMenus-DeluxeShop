menu_title: 'Shop'
size: 27
open_command: buyMore
register_command: true
args:
- item
- lastMenu
- page
open_commands:
- '[meta] set dmshop-currentAmount INTEGER 1'
- '[refresh] <delay=3>'
close_commands:
- '[meta] remove dmshop-currentAmount INTEGER 0'

items:
  'item':
    material: 'placeholder-%deluxeshop_{item},name%'
    display_name: '&a%deluxeshop_{item},name,formatted%'
    slot: 13
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    - '&6Price per Item: &a$%deluxeshop_{item},buy%'
    - '&6Total Price: &a$%math_2_{deluxemenus_meta_dmshop-currentAmount_INTEGER_1}*{deluxeshop_{item},buy}%'
    - ''
    - '&8&oClick to Checkout'
    click_commands:
    - '[player] buyConfirm {item} %deluxemenus_meta_dmshop-currentAmount_INTEGER_1% {lastMenu}'
  'exit':
    material: barrier
    slot: 26
    display_name: '&cReturn to previous menu'
    click_commands:
    - '[openguimenu] {lastMenu}'
    - '[meta] set dmshop-currentPage INTEGER {page} <delay=3>'
  '-all':
    material: RED_STAINED_GLASS_PANE
    display_name: '&cRemove all items'
    amount: 64
    slot: 9
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER 1'
    - '[refresh]'
  '-64':
    material: RED_STAINED_GLASS_PANE
    display_name: '&cRemove 64 items'
    amount: 64
    slot: 10
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER %math_0_MAX(1,{deluxemenus_meta_dmshop-currentAmount_INTEGER_1}-64)%'
    - '[refresh]'
  '-10':
    material: RED_STAINED_GLASS_PANE
    display_name: '&cRemove 10 items'
    amount: 10
    slot: 11
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER %math_0_MAX(1,{deluxemenus_meta_dmshop-currentAmount_INTEGER_1}-10)%'
    - '[refresh]'
  '-1':
    material: RED_STAINED_GLASS_PANE
    display_name: '&cRemove 1 item'
    amount: 1
    slot: 12
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER %math_0_MAX(1,{deluxemenus_meta_dmshop-currentAmount_INTEGER_1}-1)%'
    - '[refresh]'
  '+1':
    material: LIME_STAINED_GLASS_PANE
    display_name: '&aAdd 1 item'
    amount: 1
    slot: 14
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER %javascript_dmshop_1%'
    - '[refresh]'
  '+10':
    material: LIME_STAINED_GLASS_PANE
    display_name: '&aAdd 10 items'
    amount: 10
    slot: 15
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER %javascript_dmshop_10%'
    - '[refresh]'
  '+64':
    material: LIME_STAINED_GLASS_PANE
    display_name: '&aAdd 64 items'
    amount: 64
    slot: 16
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER %javascript_dmshop_64%'
    - '[refresh]'
  '+max':
    material: LIME_STAINED_GLASS_PANE
    display_name: '&aAdd max items'
    amount: 64
    slot: 17
    lore:
    - '&6Current Amount: &a%deluxemenus_meta_dmshop-currentAmount_INTEGER_1%'
    click_commands:
    - '[meta] set dmshop-currentAmount INTEGER 1'
    - '[meta] set dmshop-currentAmount INTEGER %javascript_dmshop-maxpurchase_{item}%'
    - '[refresh]'